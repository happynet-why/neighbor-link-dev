config uhttpd 'main'
        option listen_http '192.168.151.1:80'
        list listen_https '0.0.0.0:443'
        list listen_https '[::]:443'
        option redirect_https '0'
        option home '/www'
        option rfc1918_filter '1'
        option max_requests '3'
        option max_connections '100'
        option cert '/etc/uhttpd.crt'
        option key '/etc/uhttpd.key'
        option cgi_prefix '/cgi-bin'
        list lua_prefix '/cgi-bin/luci=/usr/lib/lua/luci/sgi/uhttpd.lua'
        list lua_prefix '/lua-bin/ui=/www/cgi-bin/ui.lua'
        list lua_prefix '/lua-bin/dashboard=/www/cgi-bin/dashboard.lua'
        option script_timeout '60'
        option network_timeout '30'
        option http_keepalive '20'
        option tcp_keepalive '1'
        option ubus_prefix '/ubus'

config cert 'defaults'
        option days '730'
        option key_type 'ec'
        option bits '2048'
        option ec_curve 'P-256'
        option country 'ZZ'
        option state 'Somewhere'
        option location 'Unknown'
        option commonname 'OpenWrt'

config uhttpd 'portal'
        option listen_http '192.168.3.1:2027'
        option home '/www/portal'
        list lua_prefix '/auth=/www/portal/auth.lua'